Mon Mar 18 20:10:18 AST 2013

1) API call

   wget http://drop1.iemwin.net:8016/_iemwin/stats

2) Old format

data_format=1;
start_time=1360631751;
upstream_master=140.90.6.245 1000 1363298611 \
                0 39448 203099 540873 0 8 -2 5 2 0 0 0 0;
num_clients=2;
client_table=50-81-204-252.client.mchsi.com 2 0 1363624192
64.125.72.51 2 0 1363624196

3) New format

data_format=2;
start_time=1363648415;
upstream_master=140.90.6.245 1000 1363648415 \
                0 1852 1852 1852 0 1 0 0 0 0 0 0 0;
npemwin_status=1363649615 92 92 0 102672;
num_clients=2;
client_table=50-81-204-252.client.mchsi.com 2 0 1363624192
64.125.72.51 2 0 1363624196

4) upstream_master (from npemwin/src/servers.c)

es->ip, es->port,
es->stats.connect,    # time of connection to master)
es->stats.disconnect, # last disconnection time from server)
es->stats.consecutive_packets, 
es->stats.max_packets,
es->stats.total_packets, 
es->stats.bad_packet_count, 
es->stats.connections, 
es->stats.error,
es->stats.serverread_errors,
es->stats.serverclosed_errors,
es->stats.header_errors,
es->stats.checksum_errors,
es->stats.filename_errors,
es->stats.unknown_errors
 
5) npemwin_status (from npemwin/src/stats.c)  (one-minute data)

stats.time,  # (unix seconds) time at which counters were fetched
stats.frames_received,
stats.frames_processed,
stats.frames_bad,
stats.frames_data_size  # bytes
